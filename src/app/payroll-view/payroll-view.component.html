<app-dashboard></app-dashboard>
<form [formGroup]="payrollForm" (ngSubmit)="generatePayslip()">
  <div class="form-group">
    <label for="employeeName">Employee Name:</label>
    <input type="text" formControlName="employeeName" id="employeeName" required (input)="onNameInput($event)">
    <div *ngIf="payrollForm.get('employeeName')?.errors && payrollForm.get('employeeName')?.touched">
      <p class="error-message">Employee name is required</p>
    </div>
    <div *ngIf="nameContainsNumber" class="error-message">
      <p>Only alphabets are allowed</p>
    </div>
  </div>

  <div class="form-group">
    <label for="employeeId">Employee ID:</label>
    <input type="text" formControlName="employeeId" id="employeeId">
  </div>

  <div class="form-group">
    <label for="month">Month:</label>
    <input type="month" formControlName="month" id="month">
  </div>

  <button type="submit" [disabled]="!checkAllFieldsFilled()">Generate Payslip</button>
</form>

<div *ngIf="employeeDocument">

  <p>Employee Name: {{ employeeDocument?.employeeName }}</p>
  <p>Employee ID: {{ employeeDocument?.employeeId }}</p>
  <!--<p>{{ employeeDocument | json }}</p>-->
  <table>
    <thead>
      <tr>
        <th>Employee Name</th>
        <th>Employee ID</th>
        <th>Aadhar</th>
        <th>PAN</th>
        <th>Join Date</th>
        <th>Designation</th>
        <th>Basic Pay</th>
        <th>Salary Days</th>
        <th>Total Days</th>
        <th>LOP</th>
        <th>Deduction</th>
        <th>Net</th>
        <th>Net Words</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{{ employeeDocument?.employeeName }}</td>
        <td>{{ employeeDocument?.employeeId }}</td>
        <td>{{ employeeDocument?.aadhar }}</td>
        <td>{{ employeeDocument?.pan }}</td>
        <td>{{ employeeDocument?.joinDate }}</td>
        <td>{{ employeeDocument?.designation }}</td>
        <td>{{ employeeDocument?.basicPay }}</td>
        <td>{{ employeeDocument?.salaryDays }}</td>
        <td>{{ employeeDocument?.TotalDays }}</td>
        <td>{{ employeeDocument?.lop }}</td>
        <td>{{ employeeDocument?.deduction }}</td>
        <td>{{ employeeDocument?.Net }}</td>
        <td>{{ employeeDocument?.NetWords }}</td>
      </tr>
    </tbody>
  </table>
  <button (click)="downloadTableData()">Download</button>
</div>
